<% breadcrumb :cloud_service_administration %>

<div class="ibox afloat-e-margins">
  <div class="ibox-title">
    <h5><%= t('cloud_service_administration.cloud_services') %></h5>

    <div class="pull-right">
      <%= link_to new_admin_cloud_service_path, class: 'btn btn-xs btn-primary' do %>
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
        <%= t('new') %>
      <% end %>
    </div>
  </div>
  <div class="ibox-content">

    <!-- Search field -->
    <div class="row">
      <div class="col-sm-3">
        <input type="text" class="form-control input-sm m-b-xs" id="filter-cloud-services" placeholder="<%= t('cloud_service_administration.search_cloud_services') %>">
      </div>
      <div class="col-sm-9 text-right">
        <div class="pagination-info">
          <%= page_entries_info @cloud_services, entry_name: t('cloud_service_administration.cloud_services') %>
        </div>
      </div>
    </div>


    <!-- Table with Cloud Services -->
    <% unless @cloud_services.blank? %>
        <table id="footable-cloud-services" class="footable table table-stripped toggle-arrow-tiny" data-filter="#filter-cloud-services">
          <thead>
          <tr>
            <th><%= t('cloud_service_administration.title') %></th>
            <th data-hide="phone"><%= t('cloud_service_administration.cloud_service_model') %></th>
            <th class="text-right" data-hide="phone"><%= t('cloud_service_administration.price') %></th>
            <th class="text-center"><%= t('status') %></th>
            <th class="text-center" data-sort-ignore="true"><%= t('actions') %></th>
          </tr>
          </thead>

          <tbody>
          <% @cloud_services.each do |cs| %>
              <tr>
                <td><%= cs.title %></td>
                <td><%= cs.cloud_service_type.name %></td>
                <td class="text-right"><%= number_to_currency(cs.price) %></td>
                <td class="text-center" data-value="<%= cs.active %>">
                  <% if cloud_service_active?(cs) %>
                      <span class="glyphicon glyphicon-ok text-info"></span>
                  <% else %>
                      <span class="glyphicon glyphicon-remove text-danger"></span>
                  <% end %>
                </td>
                <td class="text-center action-icons">
                  <%= link_to edit_admin_cloud_service_path(cs) do %>
                      <i class="glyphicon glyphicon-pencil"></i>
                  <% end %>

                  <%= link_to admin_cloud_service_path(cs), data: { confirm: t('cloud_service_administration.sure_to_change_status') }, method: :delete do %>
                      <% if cloud_service_active?(cs) %>
                          <i class="fa fa-lock"></i>
                      <% else %>
                          <i class="fa fa-unlock"></i>
                      <% end %>
                  <% end %>
                </td>
              </tr>
          <% end %>

          </table>

        <div class="row">
          <div class="col-lg-12 text-right">
            <%= paginate @cloud_services %>
          </div>
        </div>


    <% end %>

  </div>
</div>